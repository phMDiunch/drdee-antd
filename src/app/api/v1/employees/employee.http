// src/app/api/v1/employees/employee.http

// Biến cho host, bạn có thể thay đổi nếu cần
@host = http://localhost:3000

// Biến để lưu ID của nhân viên sau khi tạo để test các API khác
@employeeId = 011add1d-aecf-4d4b-8307-6cebf138070d
// Biến cho clinicId (lấy một ID hợp lệ từ DB của bạn)
@clinicId = 00784555-33d8-476e-95bd-6a7830db6ebe

###
# @name login
# Chạy request này đầu tiên để lấy cookie xác thực
POST {{host}}/api/v1/auth/login
Content-Type: application/json

{
  "email": "dr.phamminhduc@gmail.com",
  "password": "123123"
}

###
# Lấy danh sách nhân viên (mặc định là những người đang làm việc)
GET {{host}}/api/v1/employees

###
# Tìm kiếm nhân viên (sẽ tìm trong cả những người đã nghỉ việc)
GET {{host}}/api/v1/employees?search=Thảo

###
# Lấy danh sách nhân viên đang làm việc (dạng rút gọn cho dropdown)
GET {{host}}/api/v1/employees/working

###
# Lấy chi tiết một nhân viên theo ID
GET {{host}}/api/v1/employees/{{employeeId}}

###
# Tạo một nhân viên mới
# (Thay thế {{clinicId}} bằng một UUID phòng khám hợp lệ)
POST {{host}}/api/v1/employees
Content-Type: application/json

{
  "fullName": "Trần Văn Tester",
  "email": "tester.employee.02@example.com",
  "phone": "0912345679",
  "role": "employee",
  "clinicId": "00784555-33d8-476e-95bd-6a7830db6ebe",
  "employeeCode": "TESTER02",
  "department": "Phòng Chuyên Môn",
  "team": "Điều dưỡng",
  "jobTitle": "Điều dưỡng viên",
  "positionTitle": "Chuyên viên"
}

###
# Cập nhật thông tin một nhân viên
PUT {{host}}/api/v1/employees/{{employeeId}}
Content-Type: application/json

{
  "fullName": "Trần Văn Tester (Đã cập nhật)",
  "phone": "0912345680",
  "role": "employee", 
  "clinicId": "00784555-33d8-476e-95bd-6a7830db6ebe",
  "department": "Phòng Kinh Doanh",
  "jobTitle": "Điều dưỡng viên",  
  "positionTitle": "Trưởng nhóm"
}

###
# Cập nhật trạng thái của nhân viên (Nghỉ việc)
PUT {{host}}/api/v1/employees/{{employeeId}}/status
Content-Type: application/json

{
  "status": "RESIGNED"
}

###
# Cập nhật trạng thái của nhân viên (Đang làm việc)
PUT {{host}}/api/v1/employees/{{employeeId}}/status
Content-Type: application/json

{
  "status": "WORKING"
}

###
# Xóa một nhân viên
# Sẽ thất bại nếu nhân viên có dữ liệu liên kết
DELETE {{host}}/api/v1/employees/{{employeeId}}